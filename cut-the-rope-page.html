<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cut the Rope - GameLife Space</title>
  <meta name="description" content="Play Cut the Rope online for free. Feed candy to the cute little monster by cutting ropes in the right order!">
  <script src="ai-helper.js"></script>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background: #f2f2f2;
      color: #333;
    }
    header {
      background: #007AFF;
      color: #fff;
      padding: 15px 20px;
      text-align: center;
      font-size: 20px;
      font-weight: bold;
    }
    .game-container {
      width: 100%;
      height: 70vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #000;
    }
    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    .back-link {
      position: absolute;
      top: 15px;
      left: 15px;
      background: rgba(0,0,0,0.5);
      color: #fff;
      padding: 8px 12px;
      border-radius: 6px;
      text-decoration: none;
      font-size: 14px;
    }
    .back-link:hover {
      background: rgba(0,0,0,0.7);
    }
    .info-section {
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
    }
    .info-section h2 {
      color: #007AFF;
      margin-bottom: 10px;
    }
    .info-section p {
      margin-bottom: 15px;
      line-height: 1.6;
    }
    .ad-space {
      background: #e0e0e0;
      padding: 20px;
      text-align: center;
      margin: 20px 0;
      border-radius: 8px;
    }
    .ad-space p {
      color: #666;
      font-style: italic;
    }
  </style>
</head>
<body>
  <header>
    Cut the Rope
    <div style="display: flex; align-items: center; gap: 15px;">
      <button id="aiHelperBtn" style="background: #28a745; color: white; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; font-size: 14px;">ğŸ¤– AIåŠ©æ‰‹</button>
      <a href="index.html" class="back-link">â† Back to Home</a>
    </div>
  </header>

  <div class="game-container">
    <iframe src="https://cbgamesdev.github.io/chilibowlflash/ctr/index.html" allowfullscreen></iframe>
  </div>

  <div class="info-section">
    <h2>How to Play Cut The Rope</h2>
    <p>Cut The Rope is a physics-based puzzle game where you need to feed candy to the cute little monster Om Nom. Use your mouse or touch to cut ropes in the right order to guide the candy to Om Nom's mouth.</p>
    
    <h2>Game Controls</h2>
    <p><strong>Desktop:</strong> Click and drag to cut ropes</p>
    <p><strong>Mobile:</strong> Tap and drag to cut ropes</p>
    <p><strong>Objective:</strong> Feed all candy to Om Nom to complete each level</p>

    <div class="ad-space">
      <p>Advertisement Space - Perfect for Google AdSense</p>
    </div>

    <h2>Tips & Strategy</h2>
    <p>â€¢ Think about the order of cutting ropes - timing is crucial!</p>
    <p>â€¢ Watch out for obstacles like spikes and bubbles</p>
    <p>â€¢ Collect stars for bonus points when possible</p>
    <p>â€¢ Some levels require multiple candy pieces - plan your moves carefully</p>
  </div>

  <!-- AIåŠ©æ‰‹å¯¹è¯æ¡† -->
  <div id="aiDialog" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 12px; max-width: 500px; width: 90%; max-height: 80vh; overflow-y: auto;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h3 style="margin: 0; color: #007AFF;">ğŸ¤– Cut The Rope åŠ©æ‰‹</h3>
        <button id="closeAiDialog" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #666;">Ã—</button>
      </div>
      
      <div id="aiContent">
        <p>æ‚¨å¥½ï¼æˆ‘æ˜¯Cut The Ropeæ¸¸æˆåŠ©æ‰‹ï¼Œå¯ä»¥å¸®æ‚¨ï¼š</p>
        <ul style="margin: 20px 0;">
          <li>ğŸ® è·å–æ¸¸æˆæ”»ç•¥å’ŒæŠ€å·§</li>
          <li>ğŸ’¡ è§£ç­”æ¸¸æˆç›¸å…³é—®é¢˜</li>
          <li>ğŸ”§ æä¾›æŠ€æœ¯æ”¯æŒ</li>
        </ul>
        
        <div style="margin: 20px 0;">
          <input type="text" id="aiQuestion" placeholder="è¯·è¾“å…¥æ‚¨çš„é—®é¢˜..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; margin-bottom: 10px;">
          <button id="askAiBtn" style="background: #007AFF; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">å‘é€</button>
        </div>
        
        <div id="aiResponse" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 15px; display: none;">
          <p id="aiResponseText"></p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // AIåŠ©æ‰‹åŠŸèƒ½
    const aiHelper = new GameAIHelper();
    const aiDialog = document.getElementById('aiDialog');
    const aiHelperBtn = document.getElementById('aiHelperBtn');
    const closeAiDialog = document.getElementById('closeAiDialog');
    const aiQuestion = document.getElementById('aiQuestion');
    const askAiBtn = document.getElementById('askAiBtn');
    const aiResponse = document.getElementById('aiResponse');
    const aiResponseText = document.getElementById('aiResponseText');

    // æ‰“å¼€AIåŠ©æ‰‹
    aiHelperBtn.addEventListener('click', () => {
      aiDialog.style.display = 'block';
    });

    // å…³é—­AIåŠ©æ‰‹
    closeAiDialog.addEventListener('click', () => {
      aiDialog.style.display = 'none';
      aiResponse.style.display = 'none';
      aiQuestion.value = '';
    });

    // ç‚¹å‡»èƒŒæ™¯å…³é—­
    aiDialog.addEventListener('click', (e) => {
      if (e.target === aiDialog) {
        aiDialog.style.display = 'none';
        aiResponse.style.display = 'none';
        aiQuestion.value = '';
      }
    });

    // å‘é€é—®é¢˜
    function sendQuestion() {
      const question = aiQuestion.value.trim();
      if (!question) return;

      let response = '';
      
      // æ£€æŸ¥æ˜¯å¦æ˜¯æ¸¸æˆæ”»ç•¥è¯·æ±‚
      if (question.includes('æ”»ç•¥') || question.includes('æŠ€å·§') || question.includes('æ€ä¹ˆç©')) {
        const tips = aiHelper.getGameTips('Cut The Rope');
        response = `ğŸ® Cut The Rope æ”»ç•¥ï¼š\n\n`;
        response += `ğŸ“‹ æ¸¸æˆæŠ€å·§ï¼š\n`;
        tips.tips.forEach(tip => {
          response += `â€¢ ${tip}\n`;
        });
        response += `\nğŸ’¡ ç­–ç•¥å»ºè®®ï¼š\n${tips.strategy}`;
      } else {
        // ä½¿ç”¨å®¢æœå›ç­”
        response = aiHelper.getCustomerServiceResponse(question);
      }

      // æ˜¾ç¤ºå›ç­”
      aiResponseText.textContent = response;
      aiResponse.style.display = 'block';
      aiQuestion.value = '';
    }

    askAiBtn.addEventListener('click', sendQuestion);
    aiQuestion.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        sendQuestion();
      }
    });
  </script>
</body>
</html>
